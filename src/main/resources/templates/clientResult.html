
<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <script th:attr="src=@{/vendor/js/modernizr-2.6.2.min.js}"></script>

</head>
<body>
<h1>Result</h1>


<div th:each="basket : ${basket}" >

    <span th:text="${basket}"></span>
</div>

<button id="check" type="button">Check</button>
<!-- jQuery -->
<script th:attr="src=@{/vendor/js/jquery.min.js}"></script>
<!--<script th:attr="src=@{/vendor/js/ajax.js}"></script>-->
<script>
    $(function() {
        $("#check").click(function () {
            console.log('I am here');
            let req = require("request");

            const uri = 'https://ussouthcentral.services.azureml.net/workspaces/a6971f6fdc3e4a5cad2a84c4459f5a1e/services/5f7f26de80024d6fa13d5191a07a7fe6/execute?api-version=2.0&amp;format=swagger';
            const apiKey = '4ytJZPtM5wbH/iwTnr0eKP+w2BePM6gQRn9O3j/WG6PfJhwRY16Xk1hqDwCwKDTducmednoXoycOZm48egZnCA==';

            let data = {
                "Inputs": {
                    "input1":
                        [
                            {
                                'column1': "value1",
                                'column2': "value2",
                                'column3': "value3"
                            }
                        ],
                },
                "GlobalParameters": {}
            }

            const options = {
                uri: uri,
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer " + apiKey,
                },
                body: JSON.stringify(data)
            }

            req(options, (err, res, body) => {

                if(
            !err &amp;&amp;   res.statusCode == 200
        )
            {
                console.log(body);
            }
        else
            {
                console.log("The request failed with status code: " + res.statusCode);
            }
        })

        });
    });
</script>
<!-- jQuery Easing -->
<script th:attr="src=@{/vendor/js/jquery.easing.1.3.js}"></script>
<!-- Bootstrap -->
<script th:attr="src=@{/vendor/js/bootstrap.min.js}"></script>
<!-- Carousel -->
<script th:attr="src=@{/vendor/js/owl.carousel.min.js}"></script>
<!-- Stellar -->
<script th:attr="src=@{/vendor/js/jquery.stellar.min.js}"></script>
<!-- Waypoints -->
<script th:attr="src=@{/vendor/js/jquery.waypoints.min.js}"></script>
<!-- Counters -->
<script th:attr="src=@{/vendor/js/jquery.countTo.js}"></script>


<!-- MAIN JS -->
<script th:attr="src=@{/vendor/js/main.js}"></script>

</body>
</html>

